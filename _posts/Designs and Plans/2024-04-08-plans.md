---
layout: post 
search_exclude: true
show_reading_time: false
permalink: /plans
title: Smart Park Overall Plan
categories: [Designs and Plans]
---


# Welcome to SmartParkSD: Predict Parking Availability
> #### "Find, Park, Go"

---

## Introduction

SmartParkSD transforms the way people find parking in cities by using historical transaction data and machine learning to forecast meter availability. Instead of circling blocks in frustration, drivers get real-time, location-aware predictions on open spots‚Äîsaving time, fuel, and sanity.

## üí° Project Idea: **"SmartPark San Diego" ‚Äì Predict Parking Availability"**

**Goal**:  
User inputs:
- a specific address, will use geo encoding to convert to coordinates.
- a time & day, 

And the app predicts whether parking will likely be **available or occupied**, and how much it will **cost** to park there.

## üß† Why this project?

-   **Real Dataset (A)**: We're using official San Diego city parking transaction and meter location data, which is rich in temporal and spatial signals.
    
-   **Community Purpose (B)**: It helps solve a major urban problem‚Äîwasted time and emissions caused by circling for parking.
    
-   **Our Interest (C & D)**: As drivers and commuters ourselves, we know how painful parking can be. The project combines **ML**, **data visualization**, and **user-friendly design**, aligning with each of our technical passions‚Äîfrom data science to frontend interactivity.

---
| pole_id  | meter_type | date_trans_start     | date_meter_expire    | trans_amt | pay_method  |
|----------|------------|----------------------|-----------------------|-----------|-------------|
| J-710    | SS         | 2025-01-01 04:23:35  | 2025-01-01 04:23:35   | 25        | CASH        |
| 8-1408   | SS         | 2025-01-01 05:13:15  | 2025-01-01 05:13:15   | 5         | CASH        |
| 8-904    | SS         | 2025-01-01 06:21:56  | 2025-01-01 06:21:56   | 30        | CASH        |
| WB-500S  | SS         | 2025-01-01 07:58:02  | 2025-01-01 10:00:03   | 200       | CREDIT CARD |
| B-1115   | SS         | 2025-01-01 08:00:00  | 2025-01-01 08:00:00   | 25        | CASH        |
| 15-832   | SS         | 2025-01-01 08:01:57  | 2025-01-01 08:01:57   | 25        | CASH        |


### üîç Dataset Columns Explained:
- **`pole_id`** ‚Äì unique identifier for a parking meter.
- **`meter_type`** ‚Äì type of parking meter (e.g. single space, smart sensor, etc).
- **`date_trans_start`** ‚Äì timestamp when the transaction started (user paid).
- **`date_meter_expire`** ‚Äì timestamp when the paid parking time expired.
- **`trans_amt`** ‚Äì how much money was paid (in cents).
- **`pay_method`** ‚Äì how they paid (e.g., CASH, CARD, APP).


| zone      | area             | sub_area        | pole    | config_id | config_name                                      | date_inventory       | lat        | lng         | sapid      |
|-----------|------------------|------------------|---------|-----------|--------------------------------------------------|----------------------|------------|-------------|------------|
| Downtown  | Core             | 1000 FIRST AVE  | 1-1004  | 49382     | Sunday Mode                                      | 2021-01-04 00:00:00  | 32.715904  | -117.163929 | SS-000031  |
| Downtown  | Core - Columbia  | 1000 FIRST AVE  | 1-1004  | 9000      | 2 Hour Max $1.25 HR 8am-6pm Mon-Sat (NFC)        | 2018-11-11 00:00:00  | 32.715904  | -117.163929 | SS-000031  |
| Downtown  | Core             | 1000 FIRST AVE  | 1-1006  | 49382     | Sunday Mode                                      | 2021-01-04 00:00:00  | 32.716037  | -117.163930 | SS-000031  |
| Downtown  | Core - Columbia  | 1000 FIRST AVE  | 1-1006  | 9000      | 2 Hour Max $1.25 HR 8am-6pm Mon-Sat (NFC)        | 2018-11-11 00:00:00  | 32.716037  | -117.163930 | SS-000031  |
| Downtown  | Core             | 1000 FIRST AVE  | 1-1008  | 49382     | Sunday Mode                                      | 2021-01-04 00:00:00  | 32.716169  | -117.163931 | SS-000031  |
| Downtown  | Core - Columbia  | 1000 FIRST AVE  | 1-1008  | 9000      | 2 Hour Max $1.25 HR 8am-6pm Mon-Sat (NFC)        | 2018-11-11 00:00:00  | 32.716169  | -117.163931 | SS-000031  |


### üîç Dataset Columns Explained:
- **`zone`** ‚Äì broad region of the city where the parking meter is located (e.g., "Downtown").
- **`area`** ‚Äì more specific district or neighborhood within the zone (e.g., "Core" or "Core - Columbia").
- **`sub_area`** ‚Äì street or block-level location (e.g., "1000 FIRST AVE").
- **`pole`** ‚Äì unique identifier for the individual parking meter or pole; used to link to transaction data.
- **`config_id`** ‚Äì numeric code representing a specific parking rule or configuration.
- **`config_name`** ‚Äì descriptive text explaining the parking rules (e.g., time limits, pricing, days/hours active).
- **`date_inventory`** ‚Äì date the configuration was recorded or applied; useful for historical analysis.
- **`lat`** ‚Äì latitude coordinate of the meter‚Äôs physical location; used for mapping and spatial analysis.
- **`lng`** ‚Äì longitude coordinate of the meter‚Äôs physical location.
- **`sapid`** ‚Äì system-generated identifier (likely internal) for the meter, used for asset tracking and inventory management.

---

### ‚úÖ Feasibility: YES

We can train a model to **predict parking availability at a given location (pole_id) and time**, based on historical usage patterns.

---

### üß† Machine Learning Plan

**1. Preprocessing / Feature Engineering:**
From each transaction, create:
- `day_of_week`, `hour`, `is_weekend`, `month`
- `occupied_duration = expire - start`
- `occupied = 1` during occupied time window, `0` otherwise

Then, aggregate transactions per `pole_id` per time window (e.g., 15-min or 1-hour) to calculate:
- average occupancy
- peak hours
- typical transaction lengths

**2. Training Data Format:**
Each row = a time slot for a pole
- Inputs: `pole_id`, `day_of_week`, `hour`, `meter_type`, etc.
- Output: `occupied` (binary classification)

**3. Model:**  
Start with a simple classifier: Random Forest, Decision Tree, or even Logistic Regression

---

### üåê Web App Interface (Frontend + Backend)

User Interface:
- Choose location by entering address, using google maps geo location API, and corresponding coordinates in second data table, we will get nearest parking meter in coordinates.
- Pick day/time
- Click **"Check Parking"**
- App responds: "High chance of available space" or "Likely full"

Backend:
- Flask or Express server
- Takes user input ‚Üí formats it ‚Üí sends to model ‚Üí returns prediction

---

### üöÄ Bonus Features
- Visualize occupancy on a **heatmap**
- Show historical trends by hour/day
- Let users compare multiple locations

---

## Frontend Overview

### Description of the Figma Prototype


- Search by Address or Area: Users can type in an address to find nearby meters.
- Prediction Heatmap: A real-time visual showing the likelihood of available meters in color-coded zones.
- Meter Details Popup: Tapping a pole reveals past trends, pay type, average occupied hours.
- Authenticated Dashboard: Registered users can bookmark locations and get notifications

<img src="{{site.baseurl}}/images/parkingspotfinder.png">

--- 
## Backend Overview
 - Flask + ML Pipeline with API's to serve frontend
 
## GitHub Repositories

| Repository         | Description                          |
|-------------------|----------------------------------|
| SmartPark_frontend | Frontend app (HTML/CSS/JS)  |
| SmartPark_backend  | Flask backend with ML models and APIs, pre processing and ML pipline | 


<h3>Timing (ESTIMATES)</h3>
<ul>
<li>
<p>User stories and planning should be completed by Thursday (03/26/25)</p>
</li>
<li>
<p>Backend integration and ML model deployment should be finished by next Friday (04/18/25)</p>
</li>
<li>
<p>Hard deadline set to May 9th, one week prior to meeting with Derick Lee. Last trimster we had a habit of waiting until the last minute, so we want to improve on our last tri's retrospective and fix these issues.</p>
</li>
<li>
<p>Final refinements and feedback integration should be done by May 16 (05/16/25)</p>
</li>
</ul>
<hr>


### Definition of "Done"

Though projects can never be truly "done", as of now the project is considered "Done" when the website fully integrates front-end and back-end functionalities, enabling users to view real-time and predicted parking availability. Features include an intuitive UI with a table displaying parking predictions, a machine learning model processing historical and real-time data, and the ability for users to submit feedback on predictions to refine the model.


<h2>User Stories</h2>
<p>As <em>Alex</em>, a daily commuter, I want to see parking availability predictions before I leave for my destination so that I can save time searching for a spot and reduce stress.</p>
<h3>Flow of the System</h3>
<ol>
<li>
<p>Initially, a user lands on the homepage where they can enter their destination.</p>
</li>
<li>
<p>After entering the destination, the system displays a table with predicted parking availability for nearby locations.</p>
</li>
<li>
<p>Users can sort the table by probability, distance, or parking fee (if applicable).</p>
</li>
<li>
<p>If no parking is predicted to be available, alternative locations with better availability are suggested.</p>
</li>
<li>
<p>A feedback form allows users to report whether the prediction was accurate.</p>
</li>
<li>
<p>The system continuously improves by incorporating feedback into the machine-learning model.</p>
</li>
</ol>
<p>With this system, users can plan their trips efficiently, reduce time wasted searching for parking, and contribute to improving the model's accuracy for future users.</p></body></html><!--EndFragment-->

### üìà System Flowchart

A visual representation of how users interact with the system and how predictions are generated:

<img src="{{site.baseurl}}/images/pagelayouts.png">

## Technical Foundation

| Component      | Technology |
|---------------|------------|
| Frontend      | Bootstrap |
| Backend       | Flask (Python) |
| ML            | scikit-learn, pandas, xgboost |
| Mapping       | Leaflet.js or Google Maps API |
| Geocoding     | Google Maps API / OpenCage |
| Auth          | JWT-based with secure cookies |

---

## Authentication & Smart Routing

### Login Behavior

Authenticated users can:
:white_check_mark: Set location alerts  
:white_check_mark: View prediction history  
:white_check_mark: Bookmark ‚Äúfavorite‚Äù parking spots  

---

##  Team and Project Roles

| Name      | Role                   | Responsibilities                                |
|-----------|------------------------|-------------------------------------------------|
| **Mihir** | Scrum Master           | Oversees progress, coordinates tasks            |
| **Shawn** | Backend Engineer       | Builds Flask API, connects model to frontend    |
| **Kiruthic** | ML Engineer         | Processes data, trains models, builds prediction logic |
| **Xavier** | Assistant Scrum Master | Keeps documentation clear and timelines accurate |
| **Spencer** | Frontend Developer   | Designs UI/UX, integrates map and result display |


---

## :brain: Innovative Features

### Predictive Availability Engine

Using timestamps (`date_trans_start`, `date_meter_expire`), transaction patterns are modeled to predict future occupancy likelihoods for any meter.

| Feature              | Description |
|----------------------|-------------|
| Time-based Forecasting | Model trained on usage by hour, day, season |
| Custom Location Inputs | Users can enter an address, which geocodes to the nearest pole(s) |
| Confidence Score      | Model outputs likelihood % of spot being open |

### Address to Meter Matching

Geocoding turns user input into lat/lon, matched to nearby `pole_ids` via distance comparison.
:arrow_right: Uses Haversine formula or geospatial queries (e.g., PostGIS or GeoPandas)

### Visual Parking Forecasts

Color-coded zones display real-time predictions:

| Likelihood | Color |
|------------|--------|
| High (>80%) | Green |
| Medium (50‚Äì80%) | Yellow |
| Low (<50%) | Red |

---

## Why SmartPark Stands Out

| Feature | Differentiator |
|---------|---------------|
| ML-Powered Insight | Predictions from real city parking data |
| Geolocation Matching | Find meters near any address |
| Custom Alerts | Let users know when a favorite spot opens up |
| Scalable Design | Built for expansion to other cities or data types |

---